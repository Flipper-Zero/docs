Система управления питанием Flipper Zero представлена двумя специальными чипами: **контроллером уровня заряда батареи** (fuel gauge) и **контроллером заряда** (charger).

Главной задачей первого является отслеживание уровня заряда батареи. Это реализуется благодаря точному учету чипом количества энергии, которое прошло в батарею и было истраченно из нее.

Контроллер заряда нужен для соблюдения требований к процессу заряда литиевой батареи, что очень важно для продления ее срока службы, а также для обеспечения безопасности при использовании устройства.

Приложение Power state получает информацию от этих чипов и выводит ее на экран. Давайте разберемся, что все это значит.

## Обзор

![](../../assets/applications/power-state-screenshot.png)

### Current

Первое число — это ток, полученный от контроллера уровня заряда, который сейчас «втекает» в батарею. Если Флиппер не подключен к внешнему источнику питания и заряд сейчас не происходит, то в этом месте будет отрицательное значение, означающее ток разряда.

Второе значение — это ток заряда, который расчитывается самим контроллером заряда. Число может быть положительным только в процессе заряда.

### Voltage

Эта строка отображает напряжения, полученные от контроллера уровня заряда и от зарядного контроллера соответственно.

!!! warning "Внимание"
    Второе значение напряжения будет валидным только в процессе заряда АКБ.

### Charge

Строка показывает текущий уровень заряда батареи в процентах.

Это значение расчитывается контроллером уровня заряда исходя из количества энергии, вошедшей в батарею и вышедшей из нее за время пользования устройством.

### Capacity

Первое значение в этой строке показывает количество энергии, оставшейся в батарее, а второе — полную емкость.

Оставшаяся энергия рассчитывается верно только в случае соответствия полной емкости установленной батареи укзанному при калибровке контроллера значению.

!!! warning "Внимание"
    Как видно на скриншоте выше, некоторые тестовые устройства сообщают о полной емкости 3000 мАч, что неверно и приводит к ошибочным вычислениям уровня заряда. Реальная емкость установленных батарей — 2000 мАч.

### Temperature

В последней строке выводятся температуры контроллера уровня заряда и батареи соответственно.

Для измерения температуры батареи используется NTC-термистор, который размещен на самом АКБ, а подключен к контроллеру заряда. Он изменяет свое сопротивление в зависимости от температуры батареи, таким образом позволяя ее измерить.