У Flipper Zero есть командная строка, которая может быть полезна для автоматизации тестирования устройства или удалённого управления.

## Подключение

Соедините Flipper Zero с компьютером с помощью USB-кабеля. Ваш хост определит виртуальный COM-порт:

![](../../assets/firmware/vcp.png){width="300px"}

Этот COM-порт не требует специального драйвера и доступен на всех современных операционных системах.

Для работы с ним требуется терминальный клиент: `screen`, `minicom` или любой другой. Кроме выбора порта никаких дополнительных настроек больше не требуется.

В macOS, например, название такого порта будет начинаться на `/dev/tty.usbmodem`:

![](../../assets/firmware/vcp-usbmodem.png){width="300px"}

В нашем примере это `/dev/tty.usbmodem2069315E544E1`.

Для подключения к командной строке с помощью `screen` выполните следующую команду в консоли, подставив название своего порта:
```sh
screen /dev/tty.usbmodem2069315E544E1
```

Вы увидите приглашение командной строки и информацию об установленной прошивке:

![](../../assets/firmware/cli-prompt.png)

## Команды

### Основное

| Команда | Описание |
| ------: | :------- |
| `?` или `help` | Выводит список доступных команд |
| `!` или `version` | Выводит информацию об установленной прошивке |
| `uid` | Выводит уникальный идентификатор устройства |
| `log` | Переадресовывает вывод stdout в консоль |
| `date` |  Выводит текущее значение часов реального времени |

### Питание и загрузка

| Команда | Описание |
| ------: | :------- |
| `poweroff` | Выключает устройство |
| `reset` | Перезагружает устройство |
| `dfu` | Перезагружает устройство в [DFU-режим](../../usage/general/flashing-firmware.md) |
| `power_otg_on` | Включает питание периферии |
| `power_otg_off` | Выключает питание периферии |
| `power_test` | Выводит информацию об аккумуляторе и зарядке |

### Интерфейс

| Команда | Параметры | Описание |
| ------: | :-------- | :------- |
| `input_send` | `<key_name> <event_type>` | Имитирует использование кнопок.<br/>Доступные кнопки: `up`, `down`, `left`, `right`, `ok`, `back`.<br/>Доступные события: `press`, `release`, `short`, `long`. |
| `led` | `<led_name> <value>` | Управляет светодиодом и подсветкой дисплея.<br/>Доступные каналы: `r`, `g`, `b`, `bl`.<br/>Диапазон значений: `[0-255]` |
| `vibro` | `<value>` | Включает (`1`) или выключает (`0`) вибромотор |
| `screen_stream ` | | Выводит буфер дисплея в консоль. Используется для трансляции экрана, вызывается автоматически |

### GPIO

| Команда | Параметры | Описание |
| ------: | :-------- | :------- |
| `gpio_set` | `<pin_name> <value>` | Управляет GPIO в режиме push-pull output |

### SD-карта

| Команда | Описание |
| ------: | :------- |
| `sd_info` | Выводит информацию об SD-карте |
| `sd_status` | Выводит статус SD-карты |
| `sd_format` | Форматирует SD-карту **без предупреждения** |

### NFC

| Команда | Описание |
| ------: | :------- |
| `nfc_detect` | Запускает чтение NFC-метки |

### Bluetooth

| Команда | Описание |
| ------: | :------- |
| `bt_info` | Выводит информацию о подсистеме Bluetooth |

### Запуск приложений

Любое приложение можно запустить командой с префиксом `app_`, например `app_iButton`.

Подробнее смотри в выводе команды `help`.